---
import Layout from "@/layouts/Layout.astro"

const providers = [
  {
    name: "ChatGPT",
    icon: "â—Ž",
    detail: "Import `conversations.json` from your ChatGPT data export.",
  },
  {
    name: "Claude",
    icon: "â—‰",
    detail: "Import Claude export data (`conversations.json`, `memories.json`).",
  },
  {
    name: "Grok",
    icon: "â—Œ",
    detail: "Import Grok account export conversations.",
  },
]

const steps = [
  {
    id: "01",
    title: "Excavate",
    text: "Point reclaw at your exported chat history. It parses ChatGPT, Claude, and Grok conversations in batch.",
  },
  {
    id: "02",
    title: "Refine",
    text: "Reclaw summarizes high-signal memories with a fast, low-cost model. Long imports are resumable via `.reclaw-state.json`.",
  },
  {
    id: "03",
    title: "Preserve",
    text: "Write recovered memory to OpenClaw (`memory/`, `MEMORY.md`, `USER.md`) or atomic notes for a Zettelclaw vault Inbox.",
  },
]
---

<Layout
  title="reclaw | Recover memory from old AI chats"
  description="reclaw extracts and summarizes ChatGPT, Claude, and Grok exports into OpenClaw memory or a Zettelclaw vault."
>
  <header class="sticky top-0 z-50 border-b border-border/70 bg-background/85 backdrop-blur-xl">
    <div class="mx-auto flex h-14 w-full max-w-6xl items-center justify-between px-5">
      <a href="#top" class="flex items-center gap-2 text-sm font-semibold text-foreground">
        <span aria-hidden="true">ðŸ¦ž</span>
        <span>reclaw</span>
      </a>
      <nav class="hidden items-center gap-7 text-sm text-muted-foreground md:flex">
        <a href="#how" class="hover:text-foreground transition-colors">How it works</a>
        <a href="#providers" class="hover:text-foreground transition-colors">Providers</a>
        <a href="#run" class="hover:text-foreground transition-colors">Run</a>
      </nav>
      <a
        href="https://github.com/maxpetretta/reclaw"
        class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground"
      >
        GitHub &rarr;
      </a>
    </div>
  </header>

  <main id="top" class="mx-auto w-full max-w-6xl px-5">
    <section class="relative mt-6 overflow-hidden rounded-2xl border border-border/80 reveal hero-shell">
      <div class="strata" aria-hidden="true"></div>
      <div class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-transparent via-transparent to-[#f9b449]/10"></div>

      <div class="relative z-10 grid gap-12 px-6 py-16 md:grid-cols-[1.15fr_1fr] md:px-10 md:py-20">
        <div>
          <p class="inline-flex items-center gap-2 rounded-full border border-[#f9b449]/35 bg-[#f9b449]/10 px-3 py-1.5 font-mono text-[11px] uppercase tracking-[0.16em] text-[#f9b449]">
            Memory Recovery CLI
          </p>
          <h1 class="mt-5 text-4xl font-black leading-[0.95] tracking-tight text-foreground md:text-6xl">
            Dig your old AI chats.<br />
            <span class="gradient-ore">Keep what matters.</span>
          </h1>
          <p class="mt-7 max-w-xl text-base leading-relaxed text-[#cad3e7] md:text-lg">
            reclaw extracts and summarizes exported conversations from ChatGPT, Claude, and Grok, then writes
            durable memory for OpenClaw or a Zettelclaw vault before context gets buried in old threads.
          </p>
          <div class="mt-9 flex flex-wrap gap-3">
            <a
              href="#run"
              class="inline-flex items-center rounded-lg bg-[#f97316] px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-[#f97316]/25 transition-all hover:-translate-y-0.5 hover:brightness-110"
            >
              Run reclaw
            </a>
            <a
              href="#how"
              class="inline-flex items-center rounded-lg border border-border bg-card/50 px-5 py-2.5 text-sm font-semibold text-foreground transition-all hover:-translate-y-0.5 hover:bg-card"
            >
              See workflow
            </a>
          </div>
        </div>

        <div class="rounded-xl border border-[#4b5567] bg-[#0d121c]/80 p-4 shadow-2xl shadow-black/40 md:p-5">
          <div class="mb-3 flex items-center gap-2 text-[11px] font-mono uppercase tracking-[0.15em] text-[#9aa8c2]">
            <span class="h-2 w-2 rounded-full bg-[#f97316]"></span>
            Recovery preview
          </div>
          <div class="space-y-3">
            <div class="artifact">
              <p class="artifact-label">Recovered project</p>
              <p class="artifact-body">Switched to event-driven hook architecture for OpenClaw integrations.</p>
            </div>
            <div class="artifact">
              <p class="artifact-label">Recovered preference</p>
              <p class="artifact-body">Favor fast, cheap, large-context models for batch summarization.</p>
            </div>
            <div class="artifact">
              <p class="artifact-label">Recovered destination</p>
              <p class="artifact-body">OpenClaw memory files + Zettelclaw Inbox notes with provenance.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="how" class="py-20">
      <p class="font-mono text-xs uppercase tracking-[0.2em] text-[#f9b449] reveal">How it works</p>
      <h2 class="mt-4 text-3xl font-bold tracking-tight text-foreground reveal md:text-4xl">
        A three-step memory excavation
      </h2>
      <p class="mt-4 max-w-2xl text-muted-foreground reveal">
        reclaw is built for recovery: import exports, distill durable signals, and store memory where your agent can
        reuse it.
      </p>

      <div class="mt-12 grid gap-6 md:grid-cols-3">
        {
          steps.map((step) => (
            <article class="reveal rounded-xl border border-border bg-card/55 p-6">
              <p class="font-mono text-xs text-[#f9b449]/80">{step.id}</p>
              <h3 class="mt-2 text-xl font-semibold text-foreground">{step.title}</h3>
              <p class="mt-3 text-sm leading-relaxed text-muted-foreground">{step.text}</p>
            </article>
          ))
        }
      </div>
    </section>

    <section id="providers" class="py-10">
      <p class="font-mono text-xs uppercase tracking-[0.2em] text-[#85d0ff] reveal">Supported exports</p>
      <h2 class="mt-4 text-3xl font-bold tracking-tight text-foreground reveal md:text-4xl">ChatGPT, Claude, Grok</h2>
      <div class="mt-10 grid gap-4 md:grid-cols-3">
        {
          providers.map((provider) => (
            <article class="reveal rounded-xl border border-[#38506a] bg-[#0f1826]/70 p-5">
              <div class="mb-4 inline-flex h-8 w-8 items-center justify-center rounded-full border border-[#85d0ff]/45 text-[#85d0ff]">
                {provider.icon}
              </div>
              <h3 class="text-lg font-semibold text-foreground">{provider.name}</h3>
              <p class="mt-2 text-sm leading-relaxed text-[#a8bad4]">{provider.detail}</p>
            </article>
          ))
        }
      </div>
    </section>

    <section id="run" class="py-20">
      <p class="font-mono text-xs uppercase tracking-[0.2em] text-[#f9b449] reveal">Run it</p>
      <h2 class="mt-4 text-3xl font-bold tracking-tight text-foreground reveal md:text-4xl">
        Start with one command
      </h2>

      <div class="mt-10 grid gap-8 lg:grid-cols-[1.2fr_1fr]">
        <div class="reveal overflow-hidden rounded-xl border border-border bg-card shadow-2xl shadow-black/45">
          <div class="flex items-center gap-1.5 border-b border-border bg-muted px-4 py-3">
            <span class="h-3 w-3 rounded-full bg-[#ff5f57]"></span>
            <span class="h-3 w-3 rounded-full bg-[#ffbd2e]"></span>
            <span class="h-3 w-3 rounded-full bg-[#28c840]"></span>
            <span class="ml-2 font-mono text-[11px] uppercase tracking-[0.14em] text-muted-foreground">terminal</span>
            <span class="flex-1"></span>
            <button
              onclick="navigator.clipboard.writeText('npx reclaw');const b=this;b.textContent='Copied!';setTimeout(()=>b.textContent='Copy',1400)"
              class="cursor-pointer rounded px-2 py-0.5 text-xs text-muted-foreground transition-colors hover:bg-white/5 hover:text-foreground"
            >Copy</button>
          </div>
          <div class="space-y-3 p-5 font-mono text-sm">
            <div class="flex items-center">
              <span class="mr-2 text-[#f97316]">$</span>
              <span class="text-foreground">npx reclaw</span>
              <span class="typing-cursor"></span>
            </div>
            <p class="text-[#93a4c1]">Select providers: ChatGPT / Claude / Grok</p>
            <p class="text-[#93a4c1]">Select output mode: openclaw (default) or zettelclaw</p>
            <p class="text-[#93a4c1]">Resumable runs use <code>.reclaw-state.json</code></p>
          </div>
        </div>

        <aside class="reveal rounded-xl border border-[#6d4e26] bg-[#22170b]/65 p-6">
          <p class="font-mono text-xs uppercase tracking-[0.17em] text-[#f9b449]">Destination</p>
          <h3 class="mt-3 text-xl font-semibold text-foreground">Send recovered memory forward</h3>
          <p class="mt-3 text-sm leading-relaxed text-[#d4bf9b]">
            Use OpenClaw mode for native memory files, or push extracted knowledge into a
            <a href="https://zettelclaw.com" class="font-semibold text-[#ffd898] transition-colors hover:text-[#ffe8bf]">
              {" "}
              Zettelclaw vault
            </a>
            {" "}
            as atomic notes.
          </p>
          <a
            href="https://zettelclaw.com"
            class="mt-5 inline-flex items-center rounded-lg border border-[#f9b449]/45 bg-[#f9b449]/10 px-4 py-2 text-sm font-semibold text-[#ffd898] transition-all hover:-translate-y-0.5 hover:bg-[#f9b449]/18"
          >
            Visit zettelclaw.com &rarr;
          </a>
        </aside>
      </div>
    </section>
  </main>

  <footer class="mt-10 border-t border-border py-8">
    <div class="mx-auto flex w-full max-w-6xl flex-col items-start justify-between gap-4 px-5 text-sm sm:flex-row sm:items-center">
      <p class="text-muted-foreground">
        Built with ðŸ¦ž by <a href="https://x.com/maxpetretta" class="text-foreground transition-colors hover:text-brand">Max Petretta</a>
      </p>
      <a href="https://www.npmjs.com/package/reclaw" class="text-muted-foreground transition-colors hover:text-foreground">npm</a>
    </div>
  </footer>
</Layout>

<style>
  .hero-shell {
    background:
      radial-gradient(1200px 420px at 10% -10%, rgba(249, 180, 73, 0.16) 0%, transparent 45%),
      radial-gradient(900px 360px at 100% 30%, rgba(90, 150, 255, 0.16) 0%, transparent 55%),
      linear-gradient(180deg, rgba(12, 17, 26, 0.95) 0%, rgba(10, 14, 21, 0.98) 100%);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.05),
      0 24px 60px -24px rgba(0, 0, 0, 0.72);
  }

  .strata {
    position: absolute;
    inset: 0;
    opacity: 0.44;
    background:
      repeating-linear-gradient(
        170deg,
        rgba(146, 107, 53, 0.2) 0px,
        rgba(146, 107, 53, 0.2) 2px,
        transparent 2px,
        transparent 42px
      ),
      repeating-linear-gradient(
        10deg,
        rgba(82, 121, 162, 0.18) 0px,
        rgba(82, 121, 162, 0.18) 1px,
        transparent 1px,
        transparent 32px
      );
    animation: drift 18s linear infinite;
  }

  .artifact {
    border: 1px solid rgba(167, 182, 208, 0.24);
    border-left: 3px solid rgba(249, 180, 73, 0.7);
    border-radius: 0.7rem;
    padding: 0.75rem 0.85rem;
    background: rgba(16, 23, 35, 0.72);
  }

  .artifact-label {
    font-size: 0.68rem;
    letter-spacing: 0.11em;
    text-transform: uppercase;
    color: #9db0d0;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }

  .artifact-body {
    margin-top: 0.35rem;
    font-size: 0.9rem;
    line-height: 1.45;
    color: #e8eefb;
  }

  .gradient-ore {
    background: linear-gradient(90deg, #ffd18b 0%, #f97316 42%, #8fd3ff 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .typing-cursor {
    margin-left: 0.35rem;
    display: inline-block;
    width: 7px;
    height: 1.05em;
    border-radius: 1px;
    background: #f97316;
    vertical-align: text-bottom;
    animation: blink 1.05s step-end infinite;
  }

  @keyframes drift {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-22px);
    }
  }

  @keyframes blink {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .strata,
    .typing-cursor {
      animation: none !important;
    }
  }
</style>
